<div class="grid-container">

    <div class="section-1">
        <!-- ! HEADER -->
        <h1 class="title-page">CARGA EL ARCHIVO Y FILTRA LA INFORMACIÓN</h1>
        <input 
            class="name-file"
            type="file" #csvReader name="Upload CSV" id="txtFileUpload" 
            (change)="uploadListener($event)" accept=".csv" 
        /> 
    </div>
    <div class="section-2">
        <!-- ! EMAILS TABLE -->
        <table class="table table-dark">
            <thead>
                <tr>
                    <th>{{labels[0]}}</th>
                    <th>{{labels[1]}}</th>
                    <th>{{labels[2]}}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let email of emails">
                    <!-- NAME -->
                    <td matTooltip="Fila repetida" *ngIf="email.repeated" class="data-repeated">{{email.name.value}}</td>
                    <td matTooltip="Dato repetido" *ngIf="!email.repeated && email.name.repeated" class="column-repeated">{{email.name.value}}</td>
                    <td *ngIf="!email.repeated && !email.name.repeated">{{email.name.value}}</td>
                    <!-- ADDRESS -->
                    <td matTooltip="Fila repetida" *ngIf="email.repeated && email.address.valid" class="data-repeated">{{email.address.value}}</td>
                    <td matTooltip="Fila repetida y correo inválido" *ngIf="email.repeated && !email.address.valid" class="data-repeated-mail-invalid">{{email.address.value}}</td>
                    <td *ngIf="!email.repeated && !email.address.repeated && email.address.valid">{{email.address.value}}</td>
                    <td matTooltip='Correo inválido' *ngIf="!email.repeated && !email.address.repeated && !email.address.valid" class="email-invalid">{{email.address.value}}</td>
                    <td matTooltip="Dato repetido" *ngIf="!email.repeated && email.address.repeated && email.address.valid" class="column-repeated">{{email.address.value}}</td>
                    <td matTooltip="Dato repetido y correo inválido" *ngIf="!email.repeated && email.address.repeated && !email.address.valid" class="column-repeated-mail-invalid">{{email.address.value}}</td>
                    <!-- PHONE -->
                    <td matTooltip="Fila repetida" *ngIf="email.repeated" class="data-repeated">{{email.phone.value}}</td>
                    <td matTooltip="Dato repetido" *ngIf="!email.repeated && email.phone.repeated" class="column-repeated">{{email.phone.value}}</td>
                    <td *ngIf="!email.repeated && !email.phone.repeated">{{email.phone.value}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section-3">
        <!-- ! FILTERS -->
        <div class="filters-table">
            <div class="filter-1">
                <mat-checkbox class="example-margin" [(ngModel)]="filterRowsRepeated">Filtrar filas repetidas</mat-checkbox>
            </div>
            <div class="filter-2">
                <mat-checkbox class="example-margin" [(ngModel)]="filterEmailsInvalid">Filtrar correos inválidos</mat-checkbox>
            </div>
            <div class="filter-3">
                <mat-checkbox class="example-margin" [(ngModel)]="filterColumnsRepeated">Filtrar columnas repetidas</mat-checkbox>
            </div>
            <div class="button-apply">
                <button mat-raised-button color="primary" (click)="filterEmails()">Aplicar Filtro(s)</button>
            </div>
        </div>
    </div>
    

</div>
